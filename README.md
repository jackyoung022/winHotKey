# winHotKey

winHotKey 是一款 macOS 菜单栏小工具，可以为任意应用窗口绑定全局快捷键，使你不论身在何处都能瞬间召回目标窗口。除了快捷键分配，还提供一键捕获当前窗口、自动刷新后台窗口列表等增强功能，让多任务切换保持顺畅高效。

## 功能亮点

- **窗口级快捷键**：为具体的应用窗口分配独立快捷键，按下即刻置顶。
- **快速捕获**：使用全局「快速捕获」快捷键（默认 ⌘⌥S）即可弹出主界面，并自动选中当前活动窗口，直接录入新的绑定。
- **自动刷新**：窗口列表实时跟随系统变化，无需频繁手动刷新；对同名窗口自动追加编号以便区分。
- **后台常驻**：应用以菜单栏图标运行，不干扰桌面；可随时通过菜单测试、开启或移除绑定。
- **辅助权限提醒**：首次运行引导开启辅助功能权限，确保快捷键和窗口操控正常工作。

## 安装与运行

1. 打开项目：`winHotKey/winHotKey.xcodeproj`
2. 在 Xcode 中选择 `winHotKey` 目标，使用 `My Mac` 运行。
3. 首次启动需在「系统设置 → 隐私与安全性 → 辅助功能」中勾选 winHotKey。
4. 应用启动后会自动打开主界面，同时常驻于菜单栏。

## 快速上手

1. **捕获窗口**
   - 在目标应用窗口处于最前时，按下默认的快速捕获快捷键 ⌘⌥S。
   - winHotKey 页面会自动弹出，并在「Target window」中预选当前窗口。
   - 如需更换快捷键，可在顶部「Quick Capture Shortcut」模块录制新的组合，或选择 Disable 关闭此功能。

2. **创建窗口绑定**
   - 在「Create Shortcut」区域，确认目标窗口（或从下拉列表中选择其他窗口）。
   - 点击「Shortcut」录制热键，面板会实时展示可读格式（例如 ⌘⇧F）。
   - 检查没有冲突（若快捷键已被其他窗口或快速捕获占用，系统会提示），点击 `Add Binding` 保存。

3. **管理绑定**
   - 「Registered Shortcuts」列表中可查看所有绑定。
   - 通过开关切换启用状态，或点击 `Test` 快速验证效果。
   - 支持在列表中删除不需要的绑定，或直接在菜单栏快捷方式中启用。

4. **菜单栏操作**
   - 菜单栏图标展示当前绑定列表，格式为 `快捷键 — App`。
   - 直接点击条目即可激活对应窗口。
   - 支持一键打开主界面、退出应用。

## 常见问题

- **快捷键无法触发**：
  - 确认辅助功能权限已授予。
  - 检查是否与系统或其他应用的全局快捷键冲突。
  - 在主界面中确认绑定仍处于 Enabled 状态。

- **捕获到系统窗口（如 Window Server）**：
  - winHotKey 会自动过滤常见系统窗口，如仍出现请刷新窗口列表或将目标窗口激活后再次捕获。

- **需要调整默认窗口大小**：
  - 主界面支持滚动和自适应布局，可手动放大窗口以查看更多内容。

## 参与贡献

- 提交 Issue 时，请附上 macOS 版本、冲突快捷键及相关日志（可在 Console.app 过滤 winHotKey）。
- 欢迎通过 Pull Request 提交功能改进或 Bug 修复。

## 授权协议

本项目目前未指定开源协议，默认保留所有权利。若需要使用或转载，请先联系作者。
